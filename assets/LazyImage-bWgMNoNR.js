import{a as e}from"./rolldown-runtime-BBZsY560.js";import{c as a,s as i}from"./vendor-animation-BtmQeINd.js";var t=e(a(),1),r=i(),s=({src:e,alt:a,className:i="",placeholderClassName:s="",wrapperClassName:n="",fallbackEmoji:o="ðŸ–¼ï¸",width:l,height:c,...d})=>{const[g,m]=(0,t.useState)(!1),[h,u]=(0,t.useState)(!1),[p,y]=(0,t.useState)(!1),b=(0,t.useRef)(null);(0,t.useEffect)(()=>{const e=new IntersectionObserver(([a])=>{a.isIntersecting&&(u(!0),e.disconnect())},{rootMargin:"50px 0px",threshold:.01});return b.current&&e.observe(b.current),()=>e.disconnect()},[]);return(0,r.jsxs)("div",{ref:b,className:`lazy-image-wrapper ${n}`,style:{position:"relative",overflow:"hidden"},children:[!g&&(0,r.jsx)("div",{className:`lazy-image-placeholder ${s}`,style:{position:"absolute",inset:0,background:"linear-gradient(135deg, var(--bg-card) 0%, rgba(0, 243, 255, 0.05) 100%)",animation:"pulse 1.5s cubic-bezier(0.4, 0, 0.6, 1) infinite",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"inherit"},children:(0,r.jsx)("span",{className:"lazy-image-loading-emoji",style:{fontSize:"2rem",opacity:.4},children:o})}),p&&(0,r.jsx)("div",{className:"lazy-image-fallback",style:{position:"absolute",inset:0,background:"linear-gradient(135deg, var(--bg-card) 0%, rgba(0, 243, 255, 0.1) 100%)",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"inherit"},children:(0,r.jsx)("span",{style:{fontSize:"3rem"},children:o})}),h&&!p&&(0,r.jsx)("img",{src:e,alt:a,className:i,onLoad:()=>{m(!0)},onError:()=>{y(!0),m(!0)},width:l,height:c,style:{opacity:g?1:0,transition:"opacity 0.6s ease-in-out",width:"100%",height:"100%",objectFit:"cover",borderRadius:"inherit"},loading:"eager",decoding:"async",fetchPriority:"low",...d})]})};export{s as t};