import{a as e}from"./rolldown-runtime-BBZsY560.js";import{o as a,s}from"./vendor-animation-CSh8JIPw.js";var t=e(s(),1),i=a(),r=({src:e,alt:a,className:s="",placeholderClassName:r="",wrapperClassName:n="",fallbackEmoji:l="ðŸ–¼ï¸",...o})=>{const[c,d]=(0,t.useState)(!1),[m,g]=(0,t.useState)(!1),[p,u]=(0,t.useState)(!1),y=(0,t.useRef)(null);(0,t.useEffect)(()=>{const e=new IntersectionObserver(([a])=>{a.isIntersecting&&(g(!0),e.disconnect())},{rootMargin:"100px 0px",threshold:.01});return y.current&&e.observe(y.current),()=>e.disconnect()},[]);return(0,i.jsxs)("div",{ref:y,className:`lazy-image-wrapper ${n}`,style:{position:"relative",overflow:"hidden"},children:[!c&&(0,i.jsx)("div",{className:`lazy-image-placeholder ${r}`,style:{position:"absolute",inset:0,background:"linear-gradient(135deg, var(--bg-card) 0%, var(--glass-border) 100%)",animation:"pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,i.jsx)("span",{className:"lazy-image-loading-emoji",style:{fontSize:"3rem",opacity:.5},children:l})}),p&&(0,i.jsx)("div",{className:"lazy-image-fallback",style:{position:"absolute",inset:0,background:"linear-gradient(135deg, var(--bg-card) 0%, rgba(0, 243, 255, 0.1) 100%)",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,i.jsx)("span",{style:{fontSize:"4rem"},children:l})}),m&&!p&&(0,i.jsx)("img",{src:e,alt:a,className:s,onLoad:()=>{d(!0)},onError:()=>{u(!0),d(!0)},style:{opacity:c?1:0,transition:"opacity 0.4s ease-in-out",width:"100%",height:"100%",objectFit:"cover"},loading:"lazy",decoding:"async",...o})]})};export{r as t};