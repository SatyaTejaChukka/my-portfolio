import{a as e}from"./rolldown-runtime-BBZsY560.js";import{o as a,s}from"./vendor-animation-CSh8JIPw.js";var i=e(s(),1),r=a(),t=({src:e,alt:a,className:s="",placeholderClassName:t="",wrapperClassName:n="",fallbackEmoji:o="ðŸ–¼ï¸",...l})=>{const[c,d]=(0,i.useState)(!1),[m,g]=(0,i.useState)(!1),[u,p]=(0,i.useState)(!1),y=(0,i.useRef)(null);(0,i.useEffect)(()=>{const e=new IntersectionObserver(([a])=>{a.isIntersecting&&(g(!0),e.disconnect())},{rootMargin:"50px 0px",threshold:.01});return y.current&&e.observe(y.current),()=>e.disconnect()},[]);return(0,r.jsxs)("div",{ref:y,className:`lazy-image-wrapper ${n}`,style:{position:"relative",overflow:"hidden"},children:[!c&&(0,r.jsx)("div",{className:`lazy-image-placeholder ${t}`,style:{position:"absolute",inset:0,background:"linear-gradient(135deg, var(--bg-card) 0%, rgba(0, 243, 255, 0.05) 100%)",animation:"pulse 1.5s cubic-bezier(0.4, 0, 0.6, 1) infinite",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"inherit"},children:(0,r.jsx)("span",{className:"lazy-image-loading-emoji",style:{fontSize:"2rem",opacity:.4},children:o})}),u&&(0,r.jsx)("div",{className:"lazy-image-fallback",style:{position:"absolute",inset:0,background:"linear-gradient(135deg, var(--bg-card) 0%, rgba(0, 243, 255, 0.1) 100%)",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"inherit"},children:(0,r.jsx)("span",{style:{fontSize:"3rem"},children:o})}),m&&!u&&(0,r.jsx)("img",{src:e,alt:a,className:s,onLoad:()=>{d(!0)},onError:()=>{p(!0),d(!0)},style:{opacity:c?1:0,transition:"opacity 0.6s ease-in-out",width:"100%",height:"100%",objectFit:"cover",borderRadius:"inherit"},loading:"lazy",decoding:"async",...l})]})};export{t};